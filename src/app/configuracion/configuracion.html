<!-- RUTA: src/app/configuracion/configuracion.html -->
<div class="page-container">
  
  <header class="page-header">
    <h1 class="page-title">Centro de Control</h1>
    <p>Personaliza la apariencia y el idioma de tu interfaz.</p>
  </header>

  <div class="settings-grid">
    <!-- Módulo de Apariencia (¡El principal!) -->
    <div class="content-card">
      <div class="card-header">
        <i class="fas fa-palette"></i>
        <h2>Apariencia de la Interfaz</h2>
      </div>
      <div class="card-body theme-selector">
        <!-- Tarjeta para el Tema Claro (Cobalto) -->
        <div class="theme-card" [class.active]="!modoOscuro" (click)="setTheme(false)">
          <div class="theme-preview light-theme">
            <div class="preview-circle"></div>
            <div class="preview-bar"></div>
            <div class="preview-bar short"></div>
          </div>
          <span class="theme-name">Tema Cobalto</span>
        </div>

        <!-- Tarjeta para el Tema Oscuro (Nocturno) -->
        <div class="theme-card" [class.active]="modoOscuro" (click)="setTheme(true)">
          <div class="theme-preview dark-theme">
            <div class="preview-circle"></div>
            <div class="preview-bar"></div>
            <div class="preview-bar short"></div>
          </div>
          <span class="theme-name">Tema Nocturno</span>
        </div>
      </div>
    </div>

    <!-- Módulo de Idioma y Notificaciones -->
    <div class="content-card">
      <div class="card-header">
        <i class="fas fa-cogs"></i>
        <h2>Ajustes Generales</h2>
      </div>
      <div class="card-body">
        <!-- Opción de Idioma -->
        <div class="setting-item">
          <div class="info">
            <label for="language"><i class="fas fa-language"></i> Idioma</label>
            <p>Selecciona el idioma para la aplicación.</p>
          </div>
          <div class="control">
            <select id="language" class="form-control" [(ngModel)]="selectedLanguage" (ngModelChange)="onLanguageChange()">
              <option value="es">Español</option>
              <option value="en">English</option>
            </select>
          </div>
        </div>

        <!-- Opción de Notificaciones -->
        <div class="setting-item">
          <div class="info">
            <label for="notificaciones"><i class="fas fa-bell"></i> Notificaciones</label>
            <p>Recibe resúmenes y alertas por e-mail.</p>
          </div>
          <div class="control">
            <label class="switch">
              <input 
                id="notificaciones" 
                type="checkbox" 
                [(ngModel)]="notificacionesEmail">
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Botón de Guardar con Feedback -->
  <div class="footer-actions">
    <p class="save-feedback" [class.show]="showSuccessMessage">
      <i class="fas fa-check-circle"></i> Preferencias guardadas
    </p>
    <button class="btn btn-primary" (click)="guardarPreferencias()">Guardar Cambios</button>
  </div>
</div>