<!-- RUTA: src/app/perfil/perfil.html -->
<div class="page-container">

  <!-- Usamos las clases globales de cabecera -->
  <header class="page-header">
    <h1 class="page-title">Perfil de Operador</h1>
    <p>Gestiona la información de tu cuenta y los ajustes de seguridad.</p>
  </header>

  <!-- Contenedor principal de la página de perfil -->
  <div class="profile-container">

    <!-- Tarjeta de información del perfil (usando .content-card) -->
    <div class="content-card profile-info-card">
      <div *ngIf="user; else loading">
        <div class="profile-header">
          <!-- MEJORA: Avatar visual para el usuario -->
          <div class="user-avatar">{{ user.email.charAt(0).toUpperCase() }}</div>
          <div class="user-identity">
            <h2>{{ user.email }}</h2>
            <span class="user-role">{{ user.rol }}</span>
          </div>
        </div>

        <div class="info-grid">
          <div class="info-item">
            <label>ID de Usuario</label>
            <p>#{{ user.id }}</p>
          </div>
          <div class="info-item">
            <label>Estado de la Cuenta</label>
            <p class="status-active">Activa</p>
          </div>
        </div>
      </div>

      <!-- Plantilla de carga y error -->
      <ng-template #loading>
        <div *ngIf="!errorMessage" class="loading-state">
          <div class="spinner"></div>
          <p>Cargando perfil...</p>
        </div>
        <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
      </ng-template>
    </div>

    <!-- Zona de Peligro (rediseñada para ser más impactante) -->
    <div class="content-card danger-zone">
      <div class="danger-text">
        <h3>Zona de Peligro</h3>
        <p>Eliminar tu cuenta es una acción irreversible. Todos tus datos y registros asociados serán eliminados permanentemente.</p>
      </div>
      <button (click)="eliminarCuenta()" class="btn btn-danger">
        <i class="fas fa-trash-alt"></i>
        <span>Eliminar Mi Cuenta</span>
      </button>
    </div>

  </div>
</div>