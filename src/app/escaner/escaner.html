<!-- RUTA: src/app/escaner/escaner.html -->

<div class="scan-container">
  <h1>Escanear Herramienta</h1>
  <p class="status-message">{{ statusMessage }}</p>

  <!-- Contenedor para la cámara -->
  <div #webcamContainer class="video-wrapper"></div>

  <!-- Contenedor para las barras de predicción -->
  <div *ngIf="predictions.length > 0" class="results-container">
    <div *ngFor="let p of predictions" class="prediction-item">
      <div class="label">{{ p.className }}</div>
      <div class="progress">
        <div class="progress-bar" [style.width.%]="p.probability * 100">
          {{ (p.probability * 100).toFixed(0) }}%
        </div>
      </div>
    </div>
  </div>

  <!-- 
    Este es el único botón que hay.
    Se muestra cuando se detecta una herramienta y llama a la única función necesaria.
  -->
  <div *ngIf="herramientaDetectada" class="confirm-container">
    <button class="confirm-button" (click)="onConfirmarHerramienta(herramientaDetectada.className)">
      Confirmar {{ herramientaDetectada.className }}
    </button>
  </div>

  <!-- 
    TODOS LOS BLOQUES *ngIf="detallesHerramienta" HAN SIDO ELIMINADOS
    para que ya no causen errores de compilación.
  -->
</div>